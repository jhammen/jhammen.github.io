<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Using Ajax with Jakarta Faces Technology :: Jakarta EE Documentation</title>
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
    <script>!function (theme) {
        if (theme === 'dark') document.documentElement.classList.add('theme-dark')
      }(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)') && 'dark'))
    </script>
      </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a id="site-title" class="navbar-item" href="../../../..">Jakarta EE Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
<!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
 -->
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="../../../../jakartaee-tutorial/10/jakarta-ee-tutorial.pdf">Download</a>
          </span>
        </div>
      </div>
      <div class="navbar-theme-switcher">
        <span class="switch" title="Switch between Light and Dark Theme">
          <input id="theme-switcher-checkbox" type="checkbox" />
          <label for="theme-switcher-checkbox">Dark Theme</label>
        </span>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="jakartaee-tutorial" data-version="10">
  <div class="toolbar"></div>
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Jakarta EE Tutorial</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../intro/overview/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../intro/usingexamples/usingexamples.html">Using the Tutorial Examples</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Platform Basics</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../platform/resource-creation/resource-creation.html">Resource Creation</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../platform/injection/injection.html">Injection</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../platform/packaging/packaging.html">Packaging</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Core Profile</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta CDI Lite</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-basic/cdi-basic.html">Introduction to Jakarta Contexts and Dependency Injection</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-basicexamples/cdi-basicexamples.html">Running the Basic Contexts and Dependency Injection Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../supporttechs/interceptors/interceptors.html">Using Jakarta EE Interceptors</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta REST</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../websvcs/jaxrs/jaxrs.html">Building RESTful Web Services with Jakarta REST</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../websvcs/jaxrs-client/jaxrs-client.html">Accessing REST Resources with the Jakarta REST Client API</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../websvcs/jaxrs-advanced/jaxrs-advanced.html">Jakarta REST: Advanced Topics and an Example</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta JSON</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jsonb/jsonb.html">JSON Binding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jsonp/jsonp.html">JSON Processing</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Web Profile</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta CDI Full</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-adv/cdi-adv.html">Jakarta Contexts and Dependency Injection: Advanced Topics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-bootstrap-se8/cdi-bootstrap-se8.html">Bootstrapping a CDI Container in Java SE</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-adv-examples/cdi-adv-examples.html">Running the Advanced Contexts and Dependency Injection Examples</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Validation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../beanvalidation/bean-validation/bean-validation.html">Introduction to Jakarta Bean Validation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../beanvalidation/bean-validation-advanced/bean-validation-advanced.html">Bean Validation: Advanced Topics</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../security/security.html">Jakarta Security</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Servlets</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../webapp/webapp.html">Getting Started with Web Applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../servlets/servlets.html">Jakarta Servlet</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Faces</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-intro/faces-intro.html">Jakarta Faces Technology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-facelets/faces-facelets.html">Introduction to Facelets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-page/faces-page.html">Using Jakarta Faces Technology in Web Pages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-page-core/faces-page-core.html">Using Converters, Listeners, and Validators</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-develop/faces-develop.html">Developing with Jakarta Faces Technology</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="faces-ajax.html">Using Ajax with Jakarta Faces Technology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-advanced-cc/faces-advanced-cc.html">Composite Components: Advanced Topics and an Example</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-custom/faces-custom.html">Creating Custom UI Components and Other Custom Objects</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-configure/faces-configure.html">Configuring Jakarta Faces Applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-ws/faces-ws.html">Using WebSockets with Jakarta Faces Technology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../webi18n/webi18n.html">Internationalizing and Localizing Web Applications</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../websocket/websocket.html">Jakarta WebSocket</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Persistence</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-intro/persistence-intro.html">Introduction to Jakarta Persistence</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-basicexamples/persistence-basicexamples.html">Running the Persistence Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-querylanguage/persistence-querylanguage.html">The Jakarta Persistence Query Language</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-criteria/persistence-criteria.html">Using the Criteria API to Create Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-string-queries/persistence-string-queries.html">Creating and Using String-Based Criteria Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-locking/persistence-locking.html">Controlling Concurrent Access to Entity Data with Locking</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-entitygraphs/persistence-entitygraphs.html">Creating Fetch Plans with Entity Graphs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-cache/persistence-cache.html">Using a Second-Level Cache with Jakarta Persistence Applications</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Enterprise Beans Lite</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-intro/ejb-intro.html">Enterprise Beans</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-gettingstarted/ejb-gettingstarted.html">Getting Started with Enterprise Beans</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-basicexamples/ejb-basicexamples.html">Running the Enterprise Bean Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-async/ejb-async.html">Using Asynchronous Method Invocation in Session Beans</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Platform</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../messaging/mail-api/mail-api.html">Jakarta Mail</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Messaging</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging/jms-concepts/jms-concepts.html">Jakarta Messaging Concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging/jms-examples/jms-examples.html">Jakarta Messaging Examples</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../supporttechs/batch-processing/batch-processing.html">Jakarta Batch</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Advanced</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Web Profile</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../security/security-authentication/security-authentication.html">Jakarta Authentication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../security/security-authorization/security-authorization.html">Jakarta Authorization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../supporttechs/transactions/transactions.html">Jakarta Transactions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../supporttechs/concurrency-utilities/concurrency-utilities.html">Jakarta Concurrency</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Platform</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../supporttechs/connectors/connectors.html">Jakarta Connectors</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Optional Components</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-el/faces-el.html">Jakarta Expression Language</a>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Jakarta XML Binding</span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Archived</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Web Profile</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jakarta-pages/jakarta-pages.html">Jakarta Pages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jakarta-tags/jakarta-tags.html">Jakarta Tags</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Platform</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../websvcs/xml-websvcs/xml-websvcs.html">XML Web Services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-full/ejb-full.html">Jakarta Enterprise Beans Full</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Jakarta EE Tutorial</span>
    <span class="version">10</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../index.html">Jakarta EE Tutorial</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">10</a>
        </li>
        <li class="version">
          <a href="../../../9.1/index.html">9.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Jakarta EE Tutorial</a></li>
    <li>Jakarta EE Web Profile</li>
    <li>Jakarta Faces</li>
    <li><a href="faces-ajax.html">Using Ajax with Jakarta Faces Technology</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">10</button>
  <div class="version-menu">
    <a class="version is-current" href="faces-ajax.html">10</a>
    <a class="version" href="../../../9.1/web/faces-ajax/faces-ajax.html">9.1</a>
  </div>
</div>
  <div class="edit-this-page"><a href="file:///home/john/workspace/virtua/jakartaee-tutorial/src/main/antora/modules/web/pages/faces-ajax/faces-ajax.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Using Ajax with Jakarta Faces Technology</h1>
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>We are working on a fresh, updated Jakarta EE Tutorial. This section hasn&#8217;t yet been updated.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>This chapter describes using Ajax functionality in Jakarta Faces web applications.
Ajax is an acronym for Asynchronous JavaScript and XML, a group of web technologies that enable creation of dynamic and highly responsive web applications.
Using Ajax, web applications can retrieve content from the server without interfering with the display on the client.
In the Jakarta EE platform, Jakarta Faces technology provides built-in support for Ajax.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_overview_of_ajax"><a class="anchor" href="#_overview_of_ajax"></a>Overview of Ajax</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Early web applications were created mostly as static web pages.
When a static web page is updated by a client, the entire page has to reload to reflect the update.
In effect, every update needs a page reload to reflect the change.
Repetitive page reloads can result in excessive network access and can impact application performance.
Technologies such as Ajax were created to overcome these deficiencies.</p>
</div>
<div class="paragraph">
<p>Ajax refers to JavaScript and XML, technologies that are widely used for creating dynamic and asynchronous web content.
While Ajax is not limited to JavaScript and XML technologies, more often than not they are used together by web applications.
The focus of this tutorial is on using JavaScript based Ajax functionality in Jakarta Faces web applications.</p>
</div>
<div class="paragraph">
<p>JavaScript is a dynamic scripting language for web applications.
It allows users to add enhanced functionality to user interfaces and allows web pages to interact with clients asynchronously.
JavaScript runs mainly on the client side (as in a browser) and thereby reduces server access by clients.</p>
</div>
<div class="paragraph">
<p>When a JavaScript function sends an asynchronous request from the client to the server, the server sends back a response that is used to update the page&#8217;s Document Object Model (DOM).
This response is often in the format of an XML document.
The term Ajax refers to this interaction between the client and server.</p>
</div>
<div class="paragraph">
<p>The server response need not be in XML only; it can also be in other formats, such as JSON (see <a href="../jsonp/jsonp.html#_introduction_to_json" class="xref page">Introduction to JSON</a> and <a href="https://www.json.org/" class="bare" target="_blank" rel="noopener">https://www.json.org/</a>).
This tutorial does not focus on the response formats.</p>
</div>
<div class="paragraph">
<p>Ajax enables asynchronous and partial updating of web applications.
Such functionality allows for highly responsive web pages that are rendered in near real time.
Ajax-based web applications can access server and process information and can also retrieve data without interfering with the display and rendering of the current web page on a client (such as a browser).</p>
</div>
<div class="paragraph">
<p>Some of the advantages of using Ajax are as follows:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Form data validation in real time, eliminating the need to submit the form for verification</p>
</li>
<li>
<p>Enhanced functionality for web pages, such as user name and password prompts</p>
</li>
<li>
<p>Partial update of the web content, avoiding complete page reloads</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_ajax_functionality_with_jakarta_faces_technology"><a class="anchor" href="#_using_ajax_functionality_with_jakarta_faces_technology"></a>Using Ajax Functionality with Jakarta Faces Technology</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Ajax functionality can be added to a Jakarta Faces application in one of the following ways:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Adding the required JavaScript code to an application</p>
</li>
<li>
<p>Using the built-in Ajax resource library</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>In earlier releases of the Jakarta EE platform, Jakarta Faces applications provided Ajax functionality by adding the necessary JavaScript to the web page.
In the Jakarta EE platform, standard Ajax support is provided by a built-in JavaScript resource library.</p>
</div>
<div class="paragraph">
<p>With the support of this JavaScript resource library, Jakarta Faces standard UI components, such as buttons, labels, or text fields, can be enabled for Ajax functionality.
You can also load this resource library and use its methods directly from within the managed bean code.
The next sections of the tutorial describe the use of the built-in Ajax resource library.</p>
</div>
<div class="paragraph">
<p>In addition, because the Jakarta Faces technology component model can be extended, custom components can be created with Ajax functionality.</p>
</div>
<div class="paragraph">
<p>The tutorial examples include an Ajax version of the <code>guessnumber</code> application, <code>ajaxguessnumber</code>.
See <a href="#_the_ajaxguessnumber_example_application">The ajaxguessnumber Example Application</a> for more information.</p>
</div>
<div class="paragraph">
<p>The Ajax specific <code>f:ajax</code> tag and its attributes are explained in the next sections.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_using_ajax_with_facelets"><a class="anchor" href="#_using_ajax_with_facelets"></a>Using Ajax with Facelets</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As mentioned in the previous section, Jakarta Faces technology supports Ajax by using a built-in JavaScript resource library that is provided as part of the Jakarta Faces core libraries.
This built-in Ajax resource can be used in Jakarta Faces web applications in one of the following ways.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>By using the <code>f:ajax</code> tag along with another standard component in a Facelets application.
This method adds Ajax functionality to any UI component without additional coding and configuration.</p>
</li>
<li>
<p>By using the JavaScript API method <code>faces.ajax.request()</code> directly within the Facelets application.
This method provides direct access to Ajax methods and allows customized control of component behavior.</p>
</li>
<li>
<p>By using the <code>&lt;h:commandScript&gt;</code> component to execute arbitrary server-side methods from a view.
The component generates a JavaScript function with a given name that when invoked, in turn invokes, a given server-side method via Ajax.</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_using_the_fajax_tag"><a class="anchor" href="#_using_the_fajax_tag"></a>Using the f:ajax Tag</h3>
<div class="paragraph">
<p>The <code>f:ajax</code> tag is a Jakarta Faces core tag that provides Ajax functionality to any regular UI component when used in conjunction with that component.
In the following example, Ajax behavior is added to an input component by including the <code>f:ajax</code> core tag:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:inputText value="#{bean.message}"&gt;
    &lt;f:ajax /&gt;
&lt;/h:inputText&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In this example, although Ajax is enabled, the other attributes of the <code>f:ajax</code> tag are not defined.
If an event is not defined, the default action for the component is performed.
For the <code>inputText</code> component, when no <code>event</code> attribute is specified, the default event is <code>valueChange</code>.
<a href="#_attributes_of_the_fajax_tag">Attributes of the f:ajax Tag</a> lists the attributes of the <code>f:ajax</code> tag and their default actions.</p>
</div>
<table id="_attributes_of_the_fajax_tag" class="tableblock frame-all grid-all" style="width: 99%;">
<caption class="title">Attributes of the f:ajax Tag</caption>
<colgroup>
<col style="width: 15%;">
<col style="width: 25%;">
<col style="width: 60%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Type</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>disabled</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jakarta.el.ValueExpression</code> that evaluates to a <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>Boolean</code> value that identifies the tag status.
A value of <code>true</code> indicates that the Ajax behavior should not be rendered.
A value of <code>false</code> indicates that the Ajax behavior should be rendered.
The default value is <code>false</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>event</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jakarta.el.ValueExpression</code> that evaluates to a <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>String</code> that identifies the type of event to which the Ajax action will apply.
If specified, it must be one of the events supported by the component.
If not specified, the default event (the event that triggers the Ajax request) is determined for the component.
The default event is <code>action</code> for <code>jakarta.faces.component.ActionSource</code> components and <code>valueChange</code> for <code>jakarta.faces.component.EditableValueHolder</code> components.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>execute</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jakarta.el.ValueExpression</code> that evaluates to an <code>Object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>Collection</code> that identifies a list of components to be executed on the server.
If a literal is specified, it must be a space-delimited <code>String</code> of component identifiers and/or one of the keywords.
If a <code>ValueExpression</code> is specified, it must refer to a property that returns a <code>Collection</code> of <code>String</code> objects.
If not specified, the default value is <code>@this</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>immediate</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jakarta.el.ValueExpression</code> that evaluates to a <code>Boolean</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>Boolean</code> value that indicates whether inputs are to be processed early in the lifecycle.
If <code>true</code>, behavior events generated from this behavior are broadcast during the Apply Request Values phase.
Otherwise, the events will be broadcast during the Invoke Application phase.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>listener</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jakarta.el.MethodExpression</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the listener method that is called when a <code>jakarta.faces.event.AjaxBehaviorEvent</code> has been broadcast for the listener.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>onevent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jakarta.el.ValueExpression</code> that evaluates to a <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the JavaScript function that handles UI events.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>onerror</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jakarta.el.ValueExpression</code> that evaluates to a <code>String</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The name of the JavaScript function that handles errors.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>render</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>jakarta.el.ValueExpression</code> that evaluates to an <code>Object</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>Collection</code> that identifies a list of components to be rendered on the client.
If a literal is specified, it must be a space-delimited <code>String</code> of component identifiers and/or one of the keywords.
If a <code>ValueExpression</code> is specified, it must refer to a property that returns a <code>Collection</code> of <code>String</code> objects.
If not specified, the default value is <code>@none</code>.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The keywords listed in <a href="#_execute_and_render_keywords">Execute and Render Keywords</a> can be used with the <code>execute</code> and <code>render</code> attributes of the <code>f:ajax</code> tag.</p>
</div>
<table id="_execute_and_render_keywords" class="tableblock frame-all grid-all" style="width: 60%;">
<caption class="title">Execute and Render Keywords</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Keyword</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@all</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">All component identifiers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@form</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The form that encloses the component</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@none</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No component identifiers</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>@this</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The element that triggered the request</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Note that when you use the <code>f:ajax</code> tag in a Facelets page, the JavaScript resource library is loaded implicitly.
This resource library can also be loaded explicitly as described in <a href="#_loading_javascript_as_a_resource">Loading JavaScript as a Resource</a>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_sending_an_ajax_request"><a class="anchor" href="#_sending_an_ajax_request"></a>Sending an Ajax Request</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To activate Ajax functionality, the web application must create an Ajax request and send it to the server.
The server then processes the request.</p>
</div>
<div class="paragraph">
<p>The application uses the attributes of the <code>f:ajax</code> tag listed in <a href="#_attributes_of_the_fajax_tag">attributes of the f:ajax tag</a> to create the Ajax request.
The following sections explain the process of creating and sending an Ajax request using some of these attributes.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Behind the scenes, the <code>faces.ajax.request()</code> method of the JavaScript resource library collects the data provided by the <code>f:ajax</code> tag and posts the request to the Jakarta Faces lifecycle.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_using_the_event_attribute"><a class="anchor" href="#_using_the_event_attribute"></a>Using the event Attribute</h3>
<div class="paragraph">
<p>The <code>event</code> attribute defines the event that triggers the Ajax action.
Some of the possible values for this attribute are <code>click</code>, <code>keyup</code>, <code>mouseover</code>, <code>focus</code>, and <code>blur</code>.</p>
</div>
<div class="paragraph">
<p>If not specified, a default event based on the parent component will be applied.
The default event is <code>action</code> for <code>jakarta.faces.component.ActionSource</code> components, such as a <code>commandButton</code>, and <code>valueChange</code> for <code>jakarta.faces.component.EditableValueHolder</code> components, such as <code>inputText</code>.
In the following example, an Ajax tag is associated with the button component, and the event that triggers the Ajax action is a mouse click:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:commandButton id="submit" value="Submit"&gt;
    &lt;f:ajax event="click" /&gt;
&lt;/h:commandButton&gt;
&lt;h:outputText id="result" value="#{userNumberBean.response}" /&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
You may have noticed that the listed events are very similar to JavaScript events.
In fact, they are based on JavaScript events, but do not have the <code>on</code> prefix.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>For a command button, the default event is <code>click</code>, so you do not actually need to specify <code>event="click"</code> to obtain the desired behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_the_execute_attribute"><a class="anchor" href="#_using_the_execute_attribute"></a>Using the execute Attribute</h3>
<div class="paragraph">
<p>The <code>execute</code> attribute defines the component or components to be executed on the server.
The component is identified by its <code>id</code> attribute.
You can specify more than one executable component.
If more than one component is to be executed, specify a space-delimited list of components.</p>
</div>
<div class="paragraph">
<p>When a component is executed, it participates in all phases of the request-processing lifecycle except the Render Response phase.</p>
</div>
<div class="paragraph">
<p>The <code>execute</code> attribute value can also be a keyword, such as <code>@all</code>, <code>@none</code>, <code>@this</code>, or <code>@form</code>.
The default value is <code>@this</code>, which refers to the component within which the <code>f:ajax</code> tag is nested.</p>
</div>
<div class="paragraph">
<p>The following code specifies that the <code>h:inputText</code> component with the <code>id</code> value of <code>userNo</code> should be executed when the button is clicked:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:inputText id="userNo"
             title="Type a number from 0 to 10:"
             value="#{userNumberBean.userNumber}"&gt;
    ...
&lt;/h:inputText&gt;
&lt;h:commandButton id="submit" value="Submit"&gt;
    &lt;f:ajax event="click" execute="userNo" /&gt;
&lt;/h:commandButton&gt;</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_using_the_immediate_attribute"><a class="anchor" href="#_using_the_immediate_attribute"></a>Using the immediate Attribute</h3>
<div class="paragraph">
<p>The <code>immediate</code> attribute indicates whether user inputs are to be processed early in the application lifecycle or later.
If the attribute is set to <code>true</code>, events generated from this component are broadcast during the Apply Request Values phase.
Otherwise, the events will be broadcast during the Invoke Application phase.</p>
</div>
<div class="paragraph">
<p>If not defined, the default value of this attribute is <code>false</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_using_the_listener_attribute"><a class="anchor" href="#_using_the_listener_attribute"></a>Using the listener Attribute</h3>
<div class="paragraph">
<p>The <code>listener</code> attribute refers to a method expression that is executed on the server side in response to an Ajax action on the client.
The listener&#8217;s <code>jakarta.faces.event.AjaxBehaviorListener.processAjaxBehavior</code> method is called once during the Invoke Application phase of the lifecycle.
In the following code from the <code>reservation</code> example application (see <a href="../faces-facelets/faces-facelets.html#_the_reservation_example_application" class="xref page">The reservation Example Application</a>), a <code>listener</code> attribute is defined by an <code>f:ajax</code> tag, which refers to a method from the bean:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;f:ajax event="change" render="total"
        listener="#{reservationBean.calculateTotal}"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Whenever either the price or the number of tickets ordered changes, the <code>calculateTotal</code> method of <code>ReservationBean</code> recalculates the total cost of the tickets and displays it in the output component named <code>total</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_monitoring_events_on_the_client"><a class="anchor" href="#_monitoring_events_on_the_client"></a>Monitoring Events on the Client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To monitor ongoing Ajax requests, use the <code>onevent</code> attribute of the <code>f:ajax</code> tag.
The value of this attribute is the name of a JavaScript function.
Jakarta Faces calls the <code>onevent</code> function at each stage of the processing of an Ajax request: begin, complete, and success.</p>
</div>
<div class="paragraph">
<p>When calling the JavaScript function assigned to the <code>onevent</code> property, Jakarta Faces passes a data object to it.
The data object contains the properties listed in <a href="#_properties_of_the_onevent_data_object">Properties of the onevent Data Object</a>.</p>
</div>
<table id="_properties_of_the_onevent_data_object" class="tableblock frame-all grid-all" style="width: 60%;">
<caption class="title">Properties of the onevent Data Object</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Property</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>responseXML</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The response to the Ajax call in XML format</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>responseText</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The response to the Ajax call in text format</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>responseCode</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The response to the Ajax call in numeric code</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>source</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The source of the current Ajax event: the DOM element</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The status of the current Ajax call: <code>begin</code>, <code>complete</code>, or <code>success</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>type</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The type of the Ajax call: <code>event</code></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>By using the <code>status</code> property of the data object, you can identify the current status of the Ajax request and monitor its progress.
In the following example, <code>monitormyajaxevent</code> is a JavaScript function that monitors the Ajax request sent by the event:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;f:ajax event="click" render="statusmessage" onevent="monitormyajaxevent"/&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_handling_errors"><a class="anchor" href="#_handling_errors"></a>Handling Errors</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Jakarta Faces handles Ajax errors through use of the <code>onerror</code> attribute of the <code>f:ajax</code> tag.
The value of this attribute is the name of a JavaScript function.</p>
</div>
<div class="paragraph">
<p>When there is an error in processing a Ajax request, Jakarta Faces calls the defined <code>onerror</code> JavaScript function and passes a data object to it.
The data object contains all the properties available for the <code>onevent</code> attribute and, in addition, the following properties:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>description</code></p>
</li>
<li>
<p><code>errorName</code></p>
</li>
<li>
<p><code>errorMessage</code></p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>type</code> is <code>error</code>.
The <code>status</code> property of the data object contains one of the valid error values listed in <a href="#_valid_error_values_for_the_data_object_status_property">Valid Error Values for the Data Object status Property</a>.</p>
</div>
<table id="_valid_error_values_for_the_data_object_status_property" class="tableblock frame-all grid-all" style="width: 60%;">
<caption class="title">Valid Error Values for the Data Object status Property</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Values</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>emptyResponse</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No Ajax response from server.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>httpError</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">One of the valid HTTP errors: <code>request.status==null</code> or <code>request.status==undefined</code> or <code>request.status&lt;200</code> or <code>request.status&gt;=300</code>.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>malformedXML</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Ajax response is not well formed.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>serverError</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">The Ajax response contains an <code>error</code> element.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>In the following example, any errors that occurred in processing the Ajax request are handled by the <code>handlemyajaxerror</code> JavaScript function:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;f:ajax event="click" render="errormessage" onerror="handlemyajaxerror"/&gt;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_receiving_an_ajax_response"><a class="anchor" href="#_receiving_an_ajax_response"></a>Receiving an Ajax Response</h2>
<div class="sectionbody">
<div class="paragraph">
<p>After the application sends an Ajax request, it is processed on the server side, and a response is sent back to the client.
As described earlier, Ajax allows for partial updating of web pages.
To enable such partial updating, Jakarta Faces technology allows for partial processing of the view.
The handling of the response is defined by the <code>render</code> attribute of the <code>f:ajax</code> tag.</p>
</div>
<div class="paragraph">
<p>Similar to the <code>execute</code> attribute, the <code>render</code> attribute defines which sections of the page will be updated.
The value of a <code>render</code> attribute can be one or more component <code>id</code> values, one of the keywords <code>@this</code>, <code>@all</code>, <code>@none</code>, or <code>@form</code>, or an EL expression.
In the following example, the <code>render</code> attribute identifies an output component to be displayed when the button component is clicked (the default event for a command button):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:commandButton id="submit" value="Submit"&gt;
    &lt;f:ajax execute="userNo" render="result" /&gt;
&lt;/h:commandButton&gt;
&lt;h:outputText id="result" value="#{userNumberBean.response}" /&gt;</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Behind the scenes, once again the <code>faces.ajax.request()</code> method handles the response.
It registers a response-handling callback when the original request is created.
When the response is sent back to the client, the callback is invoked.
This callback automatically updates the client-side DOM to reflect the rendered response.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_ajax_request_lifecycle"><a class="anchor" href="#_ajax_request_lifecycle"></a>Ajax Request Lifecycle</h2>
<div class="sectionbody">
<div class="paragraph">
<p>An Ajax request varies from other typical Jakarta Faces requests, and its processing is also handled differently by the Jakarta Faces lifecycle.</p>
</div>
<div class="paragraph">
<p>As described in <a href="../faces-intro/faces-intro.html#_partial_processing_and_partial_rendering" class="xref page">Partial Processing and Partial Rendering</a>, when an Ajax request is received, the state associated with that request is captured by the <code>jakarta.faces.context.PartialViewContext</code>.
This object provides access to information such as which components are targeted for processing/rendering.
The <code>processPartial</code> method of <code>PartialViewContext</code> uses this information to perform partial component tree processing and rendering.</p>
</div>
<div class="paragraph">
<p>The <code>execute</code> attribute of the <code>f:ajax</code> tag identifies which segments of the server-side component tree should be processed.
Because components can be uniquely identified in the Jakarta Faces component tree, it is easy to identify and process a single component, a few components, or a whole tree.
This is made possible by the <code>visitTree</code> method of the <code>UIComponent</code> class.
The identified components then run through the Jakarta Faces request lifecycle phases.</p>
</div>
<div class="paragraph">
<p>Similar to the <code>execute</code> attribute, the <code>render</code> attribute identifies which segments of the Jakarta Faces component tree need to be rendered during the render response phase.</p>
</div>
<div class="paragraph">
<p>During the render response phase, the <code>render</code> attribute is examined.
The identified components are found and asked to render themselves and their children.
The components are then packaged up and sent back to the client as a response.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_grouping_of_components"><a class="anchor" href="#_grouping_of_components"></a>Grouping of Components</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The previous sections describe how to associate a single UI component with Ajax functionality.
You can also associate Ajax with more than one component at a time by grouping them together on a page.
The following example shows how a number of components can be grouped by using the <code>f:ajax</code> tag:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;f:ajax&gt;
    &lt;h:form&gt;
        &lt;h:inputText id="input1" value="#{user.name}"/&gt;
        &lt;h:commandButton id="Submit"/&gt;
    &lt;/h:form&gt;
&lt;/f:ajax&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the example, neither component is associated with any Ajax <code>event</code> or <code>render</code> attributes yet.
Therefore, no action will take place in case of user input.
You can associate the above components with an <code>event</code> and a <code>render</code> attribute as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;f:ajax event="click" render="@all"&gt;
    &lt;h:form&gt;
        &lt;h:inputText id="input1" value="#{user.name}"/&gt;
        &lt;h:commandButton id="Submit"/&gt;
    &lt;/h:form&gt;
&lt;/f:ajax&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>In the updated example, when the user clicks either component, the updated results will be displayed for all components.
You can further fine-tune the Ajax action by adding specific events to each of the components, in which case Ajax functionality becomes cumulative.
Consider the following example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;f:ajax event="click" render="@all"&gt;
    ...
    &lt;h:commandButton id="Submit"&gt;
        &lt;f:ajax event="mouseover"/&gt;
    &lt;/h:commandButton&gt;
    ...
&lt;/f:ajax&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now the button component will fire an Ajax action in case of a <code>mouseover</code> event as well as a mouse-click event.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_loading_javascript_as_a_resource"><a class="anchor" href="#_loading_javascript_as_a_resource"></a>Loading JavaScript as a Resource</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The JavaScript resource file bundled with Jakarta Faces technology is named <code>faces.js</code> and is available in the <code>jakarta.faces</code> library.
This resource library supports Ajax functionality in Jakarta Faces applications.</p>
</div>
<div class="paragraph">
<p>If you use the <code>f:ajax</code> tag on a page, the <code>faces.js</code> resource is automatically delivered to the client.
It is not necessary to use the <code>h:outputScript</code> tag to specify this resource.
You may want to use the <code>h:outputScript</code> tag to specify other JavaScript libraries.</p>
</div>
<div class="paragraph">
<p>To use a JavaScript resource directly with a <code>UIComponent</code>, you must explicitly load the resource as described in either of the following topics:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="#_using_javascript_api_in_a_facelets_application">Using JavaScript API in a Facelets Application</a> – Uses the <code>h:outputScript</code> tag directly in a Facelets page</p>
</li>
<li>
<p><a href="#_using_the_resourcedependency_annotation_in_a_bean_class">Using the @ResourceDependency Annotation in a Bean Class</a> – Uses the <code>jakarta.faces.application.ResourceDependency</code> annotation on a <code>UIComponent</code> Java class</p>
</li>
</ul>
</div>
<div class="sect2">
<h3 id="_using_javascript_api_in_a_facelets_application"><a class="anchor" href="#_using_javascript_api_in_a_facelets_application"></a>Using JavaScript API in a Facelets Application</h3>
<div class="paragraph">
<p>To use the JavaScript resource API directly in a web application, such as a Facelets page:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Identify the default JavaScript resource for the page with the help of the <code>h:outputScript</code> tag.</p>
<div class="paragraph">
<p>For example, consider the following section of a Facelets page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:form&gt;
    &lt;h:outputScript name="faces.js" library="jakarta.faces" target="head"/&gt;
&lt;/h:form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Specifying the target as <code>head</code> causes the script resource to be rendered within the <code>head</code> element on the HTML page.</p>
</div>
</li>
<li>
<p>Identify the component to which you would like to attach the Ajax functionality.</p>
</li>
<li>
<p>Add the Ajax functionality to the component by using the JavaScript API.
For example, consider the following:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:form&gt;
    &lt;h:outputScript name="faces.js" library="jakarta.faces" target="head"&gt;
    &lt;h:inputText id="inputname" value="#{userBean.name}"/&gt;
    &lt;h:outputText id="outputname" value="#{userBean.name}"/&gt;
    &lt;h:commandButton id="submit" value="Submit"
                     onclick="faces.ajax.request(this, event,
                              {execute:'inputname',render:'outputname'});
                              return false;" /&gt;
&lt;/h:form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>faces.ajax.request</code> method takes up to three parameters that specify source, event, and options.
The source parameter identifies the DOM element that triggered the Ajax request, typically <code>this</code>.
The optional event parameter identifies the DOM event that triggered this request.
The optional options parameter contains a set of name/value pairs from <a href="#_possible_values_for_the_options_parameter">Possible Values for the Options Parameter</a>.</p>
</div>
<table id="_possible_values_for_the_options_parameter" class="tableblock frame-all grid-all" style="width: 70%;">
<caption class="title">Possible Values for the Options Parameter</caption>
<colgroup>
<col style="width: 21.4285%;">
<col style="width: 78.5715%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-left valign-top">Value</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>execute</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A space-delimited list of client identifiers or one of the keywords listed in <a href="#_execute_and_render_keywords">Execute And Render Keywords</a>. The identifiers reference the components that will be processed during the Execute phase of the lifecycle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>render</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A space-delimited list of client identifiers or one of the keywords listed in <a href="#_execute_and_render_keywords">Execute And Render Keywords</a>. The identifiers reference the components that will be processed during the render phase of the lifecycle.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>onevent</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>String</code> that is the name of the JavaScript function to call when an event occurs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>onerror</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A <code>String</code> that is the name of the JavaScript function to call when an error occurs.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>params</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">An object that may include additional parameters to include in the request.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>If no identifier is specified, the default assumed keyword for the <code>execute</code> attribute is <code>@this</code>, and for the <code>render</code> attribute it is <code>@none</code>.</p>
</div>
<div class="paragraph">
<p>You can also place the JavaScript method in a file and include it as a resource.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_using_the_resourcedependency_annotation_in_a_bean_class"><a class="anchor" href="#_using_the_resourcedependency_annotation_in_a_bean_class"></a>Using the @ResourceDependency Annotation in a Bean Class</h3>
<div class="paragraph">
<p>Use the <code>jakarta.faces.application.ResourceDependency</code> annotation to cause the bean class to load the default <code>faces.js</code> library.</p>
</div>
<div class="paragraph">
<p>To load the Ajax resource from the server side:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use the <code>faces.ajax.request</code> method within the bean class.</p>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This method is usually used when creating a custom component or a custom renderer for a component.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The following example shows how the resource is loaded in a bean class:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@ResourceDependency(name="faces.js" library="jakarta.faces" target="head")</code></pre>
</div>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_the_ajaxguessnumber_example_application"><a class="anchor" href="#_the_ajaxguessnumber_example_application"></a>The ajaxguessnumber Example Application</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To demonstrate the advantages of using Ajax, revisit the <code>guessnumber</code> example from <a href="../faces-facelets/faces-facelets.html#_introduction_to_facelets" class="xref page">Introduction to Facelets</a>.
If you modify this example to use Ajax, the response need not be displayed on the <code>response.xhtml</code> page.
Instead, an asynchronous call is made to the bean on the server side, and the response is displayed on the originating page by executing just the input component rather than by form submission.</p>
</div>
<div class="paragraph">
<p>The source code for this application is in the <code><em>jakartaee-examples</em>/tutorial/web/faces/ajaxguessnumber/</code> directory.</p>
</div>
<div class="sect2">
<h3 id="_the_ajaxguessnumber_source_files"><a class="anchor" href="#_the_ajaxguessnumber_source_files"></a>The ajaxguessnumber Source Files</h3>
<div class="paragraph">
<p>The changes to the <code>guessnumber</code> application occur in two source files.</p>
</div>
<div class="sect3">
<h4 id="_the_ajaxgreeting_xhtml_facelets_page"><a class="anchor" href="#_the_ajaxgreeting_xhtml_facelets_page"></a>The ajaxgreeting.xhtml Facelets Page</h4>
<div class="paragraph">
<p>The Facelets page for <code>ajaxguessnumber</code>, <code>ajaxgreeting.xhtml</code>, is almost the same as the <code>greeting.xhtml</code> page for the <code>guessnumber</code> application:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:head&gt;
    &lt;h:outputStylesheet library="css" name="default.css"/&gt;
    &lt;title&gt;Ajax Guess Number Facelets Application&lt;/title&gt;
&lt;/h:head&gt;
&lt;h:body&gt;
    &lt;h:form id="AjaxGuess"&gt;
        &lt;h:graphicImage value="#{resource['images:wave.med.gif']}"
                        alt="Duke waving his hand"/&gt;
        &lt;h2&gt;
            Hi, my name is Duke. I am thinking of a number from
            #{dukesNumberBean.minimum} to #{dukesNumberBean.maximum}.
            Can you guess it?
        &lt;/h2&gt;
        &lt;p&gt;
            &lt;h:inputText id="userNo"
                         title="Enter a number from 0 to 10:"
                         value="#{userNumberBean.userNumber}"&gt;
                &lt;f:validateLongRange minimum="#{dukesNumberBean.minimum}"
                                     maximum="#{dukesNumberBean.maximum}"/&gt;
            &lt;/h:inputText&gt;

            &lt;h:commandButton id="submit" value="Submit"&gt;
                &lt;f:ajax execute="userNo" render="outputGroup" /&gt;
            &lt;/h:commandButton&gt;
        &lt;/p&gt;
        &lt;p&gt;
            &lt;h:panelGroup layout="block" id="outputGroup"&gt;
                &lt;h:outputText id="result" style="color:blue"
                              value="#{userNumberBean.response}"
                              rendered="#{!facesContext.validationFailed}"/&gt;
                &lt;h:message id="errors1"
                           showSummary="true"
                           showDetail="false"
                           style="color: #d20005;
                           font-family: 'New Century Schoolbook', serif;
                           font-style: oblique;
                           text-decoration: overline"
                           for="userNo"/&gt;
            &lt;/h:panelGroup&gt;
        &lt;/p&gt;
    &lt;/h:form&gt;
&lt;/h:body&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The most important change is in the <code>h:commandButton</code> tag.
The <code>action</code> attribute is removed from the tag, and an <code>f:ajax</code> tag is added.</p>
</div>
<div class="paragraph">
<p>The <code>f:ajax</code> tag specifies that when the button is clicked the <code>h:inputText</code> component with the <code>id</code> value <code>userNo</code> is executed.
The components within the <code>outputGroup</code> panel group are then rendered.
If a validation error occurs, the managed bean is not executed, and the validation error message is displayed in the message pane.
Otherwise, the result of the guess is rendered in the <code>result</code> component.</p>
</div>
</div>
<div class="sect3">
<h4 id="_the_usernumberbean_backing_bean"><a class="anchor" href="#_the_usernumberbean_backing_bean"></a>The UserNumberBean Backing Bean</h4>
<div class="paragraph">
<p>A small change is also made in the <code>UserNumberBean</code> code so that the output component does not display any message for the default (null) value of the property <code>response</code>.
Here is the modified bean code:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public String getResponse() {
    if ((userNumber != null)
            &amp;&amp; (userNumber.compareTo(dukesNumberBean.getRandomInt()) == 0)) {
        return "Yay! You got it!";
    }
    if (userNumber == null) {
        return null;
    } else {
        return "Sorry, " + userNumber + " is incorrect.";
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_the_dukesnumberbean_cdi_managed_bean"><a class="anchor" href="#_the_dukesnumberbean_cdi_managed_bean"></a>The DukesNumberBean CDI Managed Bean</h4>
<div class="paragraph">
<p>The <code>DukesNumberBean</code> session-scoped CDI managed bean stores the range of guessable numbers and the randomly chosen number from that range.
It is injected into <code>UserNumberBean</code> with the CDI <code>@Inject</code> annotation so that the value of the random number can be compared to the number the user submitted:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@Inject
DukesNumberBean dukesNumberBean;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You will learn more about CDI in <a href="../../cdi/cdi-basic/cdi-basic.html#_introduction_to_jakarta_contexts_and_dependency_injection" class="xref page">Introduction to Jakarta Contexts and Dependency Injection</a>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_running_the_ajaxguessnumber_example"><a class="anchor" href="#_running_the_ajaxguessnumber_example"></a>Running the ajaxguessnumber Example</h3>
<div class="paragraph">
<p>You can use either NetBeans IDE or Maven to build, package, deploy, and run the <code>ajaxguessnumber</code> application.</p>
</div>
<div class="sect3">
<h4 id="_to_build_package_and_deploy_the_ajaxguessnumber_example_using_netbeans_ide"><a class="anchor" href="#_to_build_package_and_deploy_the_ajaxguessnumber_example_using_netbeans_ide"></a>To Build, Package, and Deploy the ajaxguessnumber Example Using NetBeans IDE</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure that GlassFish Server has been started (see <a href="../../intro/usingexamples/usingexamples.html#_starting_and_stopping_glassfish_server" class="xref page">Starting and Stopping GlassFish Server</a>).</p>
</li>
<li>
<p>From the <strong>File</strong> menu, choose <strong>Open Project</strong>.</p>
</li>
<li>
<p>In the Open Project dialog box, navigate to:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">jakartaee-examples/tutorial/web/faces</code></pre>
</div>
</div>
</li>
<li>
<p>Select the <code>ajaxguessnumber</code> folder.</p>
</li>
<li>
<p>Click <strong>Open Project</strong>.</p>
</li>
<li>
<p>In the <strong>Projects</strong> tab, right-click the <code>ajaxguessnumber</code> project and select <strong>Build</strong>.</p>
<div class="paragraph">
<p>This command builds and deploys the project.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_to_build_package_and_deploy_the_ajaxguessnumber_example_using_maven"><a class="anchor" href="#_to_build_package_and_deploy_the_ajaxguessnumber_example_using_maven"></a>To Build, Package, and Deploy the ajaxguessnumber Example Using Maven</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure that GlassFish Server has been started (see <a href="../../intro/usingexamples/usingexamples.html#_starting_and_stopping_glassfish_server" class="xref page">Starting and Stopping GlassFish Server</a>).</p>
</li>
<li>
<p>In a terminal window, go to:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">jakartaee-examples/tutorial/web/faces/ajaxguessnumber/</code></pre>
</div>
</div>
</li>
<li>
<p>Enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">mvn install</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command builds and packages the application into a WAR file, <code>ajaxguessnumber.war</code>, located in the <code>target</code> directory.
It then deploys the application.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_to_run_the_ajaxguessnumber_example"><a class="anchor" href="#_to_run_the_ajaxguessnumber_example"></a>To Run the ajaxguessnumber Example</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In a web browser, enter the following URL:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">http://localhost:8080/ajaxguessnumber</code></pre>
</div>
</div>
</li>
<li>
<p>Enter a value in the field and click Submit.</p>
<div class="paragraph">
<p>If the value is in the range of 0 to 10, a message states whether the guess is correct or incorrect. If the value is outside that range or if the value is not a number, an error message appears in red.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_further_information_about_ajax_in_jakarta_faces_technology"><a class="anchor" href="#_further_information_about_ajax_in_jakarta_faces_technology"></a>Further Information about Ajax in Jakarta Faces Technology</h2>
<div class="sectionbody">
<div class="paragraph">
<p>For more information on Ajax in Jakarta Faces Technology, see</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Jakarta Faces project website:<br>
<a href="https://jakarta.ee/specifications/faces/4.0/" class="bare" target="_blank" rel="noopener">https://jakarta.ee/specifications/faces/4.0/</a></p>
</li>
<li>
<p><a href="https://jakarta.ee/specifications/faces/3.0/jsdoc/jsf.ajax.html" target="_blank" rel="noopener">Jakarta Faces JavaScript Library APIs</a></p>
</li>
</ul>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
