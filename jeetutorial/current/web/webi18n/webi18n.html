<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Internationalizing and Localizing Web Applications :: Jakarta EE Documentation</title>
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
    <script>!function (theme) {
        if (theme === 'dark') document.documentElement.classList.add('theme-dark')
      }(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)') && 'dark'))
    </script>
      </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a id="site-title" class="navbar-item" href="../../../..">Jakarta EE Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
<!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
 -->
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="../../../../jakartaee-tutorial/10/jakarta-ee-tutorial.pdf">Download</a>
          </span>
        </div>
      </div>
      <div class="navbar-theme-switcher">
        <span class="switch" title="Switch between Light and Dark Theme">
          <input id="theme-switcher-checkbox" type="checkbox" />
          <label for="theme-switcher-checkbox">Dark Theme</label>
        </span>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="jakartaee-tutorial" data-version="10">
  <div class="toolbar"></div>
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Jakarta EE Tutorial</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../index.html">Preface</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../intro/overview/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../intro/usingexamples/usingexamples.html">Using the Tutorial Examples</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Core Profile</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta CDI Lite</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-basic/cdi-basic.html">Introduction to Jakarta Contexts and Dependency Injection</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-basicexamples/cdi-basicexamples.html">Running the Basic Contexts and Dependency Injection Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../supporttechs/interceptors/interceptors.html">Using Jakarta EE Interceptors</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta REST</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../websvcs/jaxrs/jaxrs.html">Building RESTful Web Services with Jakarta REST</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../websvcs/jaxrs-client/jaxrs-client.html">Accessing REST Resources with the Jakarta REST Client API</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../websvcs/jaxrs-advanced/jaxrs-advanced.html">Jakarta REST: Advanced Topics and an Example</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta JSON</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jsonb/jsonb.html">JSON Binding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jsonp/jsonp.html">JSON Processing</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Web Profile</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta CDI Full</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-adv/cdi-adv.html">Jakarta Contexts and Dependency Injection: Advanced Topics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-bootstrap-se8/cdi-bootstrap-se8.html">Bootstrapping a CDI Container in Java SE</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-adv-examples/cdi-adv-examples.html">Running the Advanced Contexts and Dependency Injection Examples</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Validation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../beanvalidation/bean-validation/bean-validation.html">Introduction to Jakarta Bean Validation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../beanvalidation/bean-validation-advanced/bean-validation-advanced.html">Bean Validation: Advanced Topics</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../security/security.html">Jakarta Security</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Servlets</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../webapp/webapp.html">Getting Started with Web Applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../servlets/servlets.html">Jakarta Servlet Technology</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Faces</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-intro/faces-intro.html">Jakarta Faces Technology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-facelets/faces-facelets.html">Introduction to Facelets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-page/faces-page.html">Using Jakarta Faces Technology in Web Pages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-page-core/faces-page-core.html">Using Converters, Listeners, and Validators</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-develop/faces-develop.html">Developing with Jakarta Faces Technology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-ajax/faces-ajax.html">Using Ajax with Jakarta Faces Technology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-advanced-cc/faces-advanced-cc.html">Composite Components: Advanced Topics and an Example</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-custom/faces-custom.html">Creating Custom UI Components and Other Custom Objects</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-configure/faces-configure.html">Configuring Jakarta Faces Applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-ws/faces-ws.html">Using WebSockets with Jakarta Faces Technology</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="webi18n.html">Internationalizing and Localizing Web Applications</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../websocket/websocket.html">Jakarta WebSocket</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Persistence</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-intro/persistence-intro.html">Introduction to Jakarta Persistence</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-basicexamples/persistence-basicexamples.html">Running the Persistence Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-querylanguage/persistence-querylanguage.html">The Jakarta Persistence Query Language</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-criteria/persistence-criteria.html">Using the Criteria API to Create Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-string-queries/persistence-string-queries.html">Creating and Using String-Based Criteria Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-locking/persistence-locking.html">Controlling Concurrent Access to Entity Data with Locking</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-entitygraphs/persistence-entitygraphs.html">Creating Fetch Plans with Entity Graphs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-cache/persistence-cache.html">Using a Second-Level Cache with Jakarta Persistence Applications</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Enterprise Beans Lite</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-intro/ejb-intro.html">Enterprise Beans</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-gettingstarted/ejb-gettingstarted.html">Getting Started with Enterprise Beans</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-basicexamples/ejb-basicexamples.html">Running the Enterprise Bean Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-async/ejb-async.html">Using Asynchronous Method Invocation in Session Beans</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Platform</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../messaging/mail-api/mail-api.html">Jakarta Mail</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Messaging</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging/jms-concepts/jms-concepts.html">Jakarta Messaging Concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging/jms-examples/jms-examples.html">Jakarta Messaging Examples</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../supporttechs/batch-processing/batch-processing.html">Jakarta Batch</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Advanced</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Web Profile</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../security/security-authentication/security-authentication.html">Jakarta Authentication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../security/security-authorization/security-authorization.html">Jakarta Authorization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../supporttechs/transactions/transactions.html">Jakarta Transactions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../supporttechs/concurrency-utilities/concurrency-utilities.html">Jakarta Concurrency</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Platform</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../supporttechs/connectors/connectors.html">Jakarta Connectors</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Optional Components</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../faces-el/faces-el.html">Jakarta Expression Language</a>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Jakarta XML Binding</span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Archived</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Web Profile</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jakarta-pages/jakarta-pages.html">Jakarta Pages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../jakarta-tags/jakarta-tags.html">Jakarta Tags</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Platform</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../websvcs/xml-websvcs/xml-websvcs.html">XML Web Services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-full/ejb-full.html">Jakarta Enterprise Beans Full</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Jakarta EE Tutorial</span>
    <span class="version">10</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../index.html">Jakarta EE Tutorial</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">10</a>
        </li>
        <li class="version">
          <a href="../../../9.1/index.html">9.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../../index.html">Jakarta EE Tutorial</a></li>
    <li>Jakarta EE Web Profile</li>
    <li>Jakarta Faces</li>
    <li><a href="webi18n.html">Internationalizing and Localizing Web Applications</a></li>
  </ul>
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">10</button>
  <div class="version-menu">
    <a class="version is-current" href="webi18n.html">10</a>
    <a class="version" href="../../../9.1/web/webi18n/webi18n.html">9.1</a>
  </div>
</div>
  <div class="edit-this-page"><a href="file:///home/john/workspace/virtua/jakartaee-tutorial/src/main/antora/modules/web/pages/webi18n/webi18n.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Internationalizing and Localizing Web Applications</h1>
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>We are working on a fresh, updated Jakarta EE Tutorial. This section hasn&#8217;t yet been updated.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The process of preparing an application to support more than one language and data format is called internationalization.
Localization is the process of adapting an internationalized application to support a specific region or locale.
Examples of locale-dependent information include messages and user interface labels, character sets and encoding, and date and currency formats.
Although all client user interfaces should be internationalized and localized, it is particularly important for web applications because of the global nature of the web.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_java_platform_localization_classes"><a class="anchor" href="#_java_platform_localization_classes"></a>Java Platform Localization Classes</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the Java platform, <code>java.util.Locale</code> (<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html" class="bare" target="_blank" rel="noopener">https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html</a>) represents a specific geographical, political, or cultural region.
The string representation of a locale consists of the international standard two-character abbreviation for language and country and an optional variant, all separated by underscore (<code>_</code>) characters.
Examples of locale strings include <code>fr</code> (French), <code>de_CH</code> (Swiss German), and <code>en_US_POSIX</code> (English on a POSIX-compliant platform).</p>
</div>
<div class="paragraph">
<p>Locale-sensitive data is stored in a <code>java.util.ResourceBundle</code> (<a href="https://docs.oracle.com/javase/8/docs/api/java/util/ResourceBundle.html" class="bare" target="_blank" rel="noopener">https://docs.oracle.com/javase/8/docs/api/java/util/ResourceBundle.html</a>).
A resource bundle contains key-value pairs, where the keys uniquely identify a locale-specific object in the bundle.
A resource bundle can be backed by a text file (properties resource bundle) or a class (list resource bundle) containing the pairs.
You construct a resource bundle instance by appending a locale string representation to a base name.</p>
</div>
<div class="paragraph">
<p>The Duke&#8217;s Bookstore application (see <a href="../../casestudies/dukes-bookstore/dukes-bookstore.html#_dukes_bookstore_case_study_example" class="xref page">Duke&#8217;s Bookstore Case Study Example</a>) contains resource bundles with the base name <code>messages.properties</code> for the locales <code>de</code> (German), <code>es</code> (Spanish), and <code>fr</code> (French).
The default locale, <code>en</code> (English), which is specified in the <code>faces-config.xml</code> file, uses the resource bundle with the base name, <code>messages.properties</code>.</p>
</div>
<div class="paragraph">
<p>For more details on internationalization and localization in the Java platform, see <a href="https://docs.oracle.com/javase/tutorial/i18n/index.html" class="bare" target="_blank" rel="noopener">https://docs.oracle.com/javase/tutorial/i18n/index.html</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_providing_localized_messages_and_labels"><a class="anchor" href="#_providing_localized_messages_and_labels"></a>Providing Localized Messages and Labels</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Messages and labels should be tailored according to the conventions of a user&#8217;s language and region.
There are two approaches to providing localized messages and labels in a web application.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Provide a version of the web page in each of the target locales and have a controller servlet dispatch the request to the appropriate page depending on the requested locale.
This approach is useful if large amounts of data on a page or an entire web application need to be internationalized.</p>
</li>
<li>
<p>Isolate any locale-sensitive data on a page into resource bundles, and access the data so that the corresponding translated message is fetched automatically and inserted into the page.
Thus, instead of creating strings directly in your code, you create a resource bundle that contains translations and read the translations from that bundle using the corresponding key.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The Duke&#8217;s Bookstore application follows the second approach.
Here are a few lines from the default resource bundle <code>messages</code>.<code>properties</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">TitleShoppingCart=Shopping Cart
TitleReceipt=Receipt
TitleBookCatalog=Book Catalog
TitleCashier=Cashier
TitleBookDescription=Book Description
Visitor=You are visitor number
What=What We\'re Reading</code></pre>
</div>
</div>
<div class="sect2">
<h3 id="_establishing_the_locale"><a class="anchor" href="#_establishing_the_locale"></a>Establishing the Locale</h3>
<div class="paragraph">
<p>To get the correct strings for a given user, a web application either retrieves the locale (set by a browser language preference) from the request using the <code>getLocale</code> method, or allows the user to explicitly select the locale.</p>
</div>
<div class="paragraph">
<p>A component can explicitly set the locale by using the <code>fmt:setLocale</code> tag.</p>
</div>
<div class="paragraph">
<p>The <code>locale-config</code> element in the configuration file registers the default locale and also registers other supported locales.
This element in Duke&#8217;s Bookstore registers English as the default locale and indicates that German, French, and Spanish are supported locales.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;locale-config&gt;
    &lt;default-locale&gt;en&lt;/default-locale&gt;
    &lt;supported-locale&gt;es&lt;/supported-locale&gt;
    &lt;supported-locale&gt;de&lt;/supported-locale&gt;
    &lt;supported-locale&gt;fr&lt;/supported-locale&gt;
&lt;/locale-config&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The <code>LocaleBean</code> in the Duke&#8217;s Bookstore application uses the <code>getLocale</code> method to retrieve the locale.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public class LocaleBean {

    ...
    private FacesContext ctx = FacesContext.getCurrentInstance();
    private Locale locale = ctx.getViewRoot().getLocale();;

    ...
}</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_setting_the_resource_bundle"><a class="anchor" href="#_setting_the_resource_bundle"></a>Setting the Resource Bundle</h3>
<div class="paragraph">
<p>The resource bundle is set with the <code>resource-bundle</code> element in the configuration file.
The setting for Duke&#8217;s Bookstore looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;resource-bundle&gt;
    &lt;base-name&gt;
        ee.jakarta.tutorial.dukesbookstore.web.messages.Messages
    &lt;/base-name&gt;
    &lt;var&gt;bundle&lt;/var&gt;
&lt;/resource-bundle&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>After the locale is set, the controller of a web application could retrieve the resource bundle for that locale and save it as a session attribute (see <a href="../servlets/servlets.html#_associating_objects_with_a_session" class="xref page">Associating Objects with a Session</a>) for use by other components or simply be used to return a text string appropriate for the selected locale:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">public String toString(Locale locale) {
    ResourceBundle res =
        ResourceBundle.getBundle(
            "ee.jakarta.tutorial.dukesbookstore.web.messages.Messages", locale);
    return res.getString(name() + ".string");
}</code></pre>
</div>
</div>
<div class="paragraph">
<p>Alternatively, an application could use the <code>f:loadBundle</code> tag to set the resource bundle.
This tag loads the correct resource bundle according to the locale stored in <code>FacesContext</code>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;f:loadBundle basename="ee.jakarta.tutorial.dukesbookstore.web.messages.Messages"
    var="bundle"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Resource bundles containing messages that are explicitly referenced from a Jakarta Faces tag attribute using a value expression must be registered using the <code>resource-bundle</code> element of the configuration file.</p>
</div>
<div class="paragraph">
<p>For more information on using this element, see <a href="../faces-configure/faces-configure.html#_registering_application_messages" class="xref page">Registering Application Messages</a>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_retrieving_localized_messages"><a class="anchor" href="#_retrieving_localized_messages"></a>Retrieving Localized Messages</h3>
<div class="paragraph">
<p>A web component written in the Java programming language retrieves the resource bundle from the session:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">ResourceBundle messages = (ResourceBundle)session.getAttribute("messages");</code></pre>
</div>
</div>
<div class="paragraph">
<p>Then it looks up the string associated with the key <code>person.lastName</code> as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">messages.getString("person.lastName");</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can only use a <code>message</code> or <code>messages</code> tag to display messages that are queued onto a component as a result of a converter or validator being registered on the component.
The following example shows a <code>message</code> tag that displays the error message queued on the <code>userNo</code> input component if the validator registered on the component fails to validate the value the user enters into the component.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:inputText id="userNo" value="#{UserNumberBean.userNumber}"&gt;
    &lt;f:validateLongRange minimum="0" maximum="10" /&gt;
&lt;/h:inputText&gt;
...
&lt;h:message style="color: red; text-decoration: overline"
           id="errors1" for="userNo"/&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For more information on using the <code>message</code> or <code>messages</code> tags, see <a href="../faces-page/faces-page.html#_displaying_error_messages_with_the_hmessage_and_hmessages_tags" class="xref page">Displaying Error Messages with the h:message and h:messages Tags</a>.</p>
</div>
<div class="paragraph">
<p>Messages that are not queued on a component and are therefore not loaded automatically are referenced using a value expression.
You can reference a localized message from almost any Jakarta Faces tag attribute.</p>
</div>
<div class="paragraph">
<p>The value expression that references a message has the same notation whether you loaded the resource bundle with the <code>loadBundle</code> tag or registered it with the <code>resource-bundle</code> element in the configuration file.</p>
</div>
<div class="paragraph">
<p>The value expression notation is <code>var.message</code>, in which <code>var</code> matches the <code>var</code> attribute of the <code>loadBundle</code> tag or the <code>var</code> element defined in the <code>resource-bundle</code> element of the configuration file, and <code>message</code> matches the key of the message contained in the resource bundle, referred to by the <code>var</code> attribute.</p>
</div>
<div class="paragraph">
<p>Here is an example from <code>bookcashier.xhtml</code> in Duke&#8217;s Bookstore:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:outputLabel for="name" value="#{bundle.Name}" /&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Notice that <code>bundle</code> matches the <code>var</code> element from the configuration file and that <code>Name</code> matches the key in the resource bundle.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_date_and_number_formatting"><a class="anchor" href="#_date_and_number_formatting"></a>Date and Number Formatting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Java programs use the <code>DateFormat.getDateInstance(int, locale)</code> method to parse and format dates in a locale-sensitive manner.
Java programs use the <code>NumberFormat.get<em>XXX</em>Instance(locale)</code> method, where <em>XXX</em> can be <code>Currency</code>, <code>Number</code>, or <code>Percent</code>, to parse and format numerical values in a locale-sensitive manner.</p>
</div>
<div class="paragraph">
<p>An application can use date/time and number converters to format dates and numbers in a locale-sensitive manner.
For example, a shipping date could be converted as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;h:outputText value="#{cashier.shipDate}"&gt;
    &lt;f:convertDateTime dateStyle="full"/&gt;
&lt;/h:outputText&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>For information on Jakarta Faces converters, see <a href="../faces-page-core/faces-page-core.html#_using_the_standard_converters" class="xref page">Using the Standard Converters</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_character_sets_and_encodings"><a class="anchor" href="#_character_sets_and_encodings"></a>Character Sets and Encodings</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The following sections describe character sets and character encodings.</p>
</div>
<div class="sect2">
<h3 id="_character_sets"><a class="anchor" href="#_character_sets"></a>Character Sets</h3>
<div class="paragraph">
<p>A character set is a set of textual and graphic symbols, each of which is mapped to a set of nonnegative integers.</p>
</div>
<div class="paragraph">
<p>The first character set used in computing was US-ASCII.
It is limited in that it can represent only American English.
US-ASCII contains uppercase and lowercase Latin alphabets, numerals, punctuation, a set of control codes, and a few miscellaneous symbols.</p>
</div>
<div class="paragraph">
<p>Unicode defines a standardized, universal character set that can be extended to accommodate additions.
When the Java program source file encoding doesn&#8217;t support Unicode, you can represent Unicode characters as escape sequences by using the notation <code>\u</code><em>XXXX</em>, where <em>XXXX</em> is the character&#8217;s 16-bit representation in hexadecimal.
For example, the Spanish version of a message file could use Unicode for non-ASCII characters, as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">admin.nav.main=P\u00e1gina principal de administraci\u00f3n</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_character_encoding"><a class="anchor" href="#_character_encoding"></a>Character Encoding</h3>
<div class="paragraph">
<p>A character encoding maps a character set to units of a specific width and defines byte serialization and ordering rules.
Many character sets have more than one encoding.
For example, Java programs can represent Japanese character sets using the <code>EUC-JP</code> or <code>Shift-JIS</code> encodings, among others.
Each encoding has rules for representing and serializing a character set.</p>
</div>
<div class="paragraph">
<p>The ISO 8859 series defines 13 character encodings that can represent texts in dozens of languages.
Each ISO 8859 character encoding can have up to 256 characters.
ISO-8859-1 (Latin-1) comprises the ASCII character set, characters with diacritics (accents, diaereses, cedillas, circumflexes, and so on), and additional symbols.</p>
</div>
<div class="paragraph">
<p>UTF-8 (Unicode Transformation Format, 8-bit form) is a variable-width character encoding that encodes 16-bit Unicode characters as one to four bytes.
A byte in UTF-8 is equivalent to 7-bit ASCII if its high-order bit is zero; otherwise, the character comprises a variable number of bytes.</p>
</div>
<div class="paragraph">
<p>UTF-8 is compatible with the majority of existing web content and provides access to the Unicode character set.
Current versions of browsers and email clients support UTF-8.
In addition, many web standards specify UTF-8 as their character encoding.
For example, UTF-8 is one of the two required encodings for XML documents (the other is UTF-16).</p>
</div>
<div class="paragraph">
<p>Web components usually use <code>PrintWriter</code> to produce responses; <code>PrintWriter</code> automatically encodes using ISO-8859-1.
Servlets can also output binary data using <code>OutputStream</code> classes, which perform no encoding.
An application that uses a character set that cannot use the default encoding must explicitly set a different encoding.</p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
