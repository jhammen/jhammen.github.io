<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: Jakarta EE Documentation</title>
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../../_/css/site.css">
    <script>var uiRootPath = '../../../../_'</script>
    <script>!function (theme) {
        if (theme === 'dark') document.documentElement.classList.add('theme-dark')
      }(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)') && 'dark'))
    </script>
      </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a id="site-title" class="navbar-item" href="../../../..">Jakarta EE Documentation</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
<!--
        <a class="navbar-item" href="#">Home</a>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Products</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Product A</a>
            <a class="navbar-item" href="#">Product B</a>
            <a class="navbar-item" href="#">Product C</a>
          </div>
        </div>
        <div class="navbar-item has-dropdown is-hoverable">
          <a class="navbar-link" href="#">Services</a>
          <div class="navbar-dropdown">
            <a class="navbar-item" href="#">Service A</a>
            <a class="navbar-item" href="#">Service B</a>
            <a class="navbar-item" href="#">Service C</a>
          </div>
        </div>
 -->
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="../../../../jakartaee-tutorial/10/jakarta-ee-tutorial.pdf">Download</a>
          </span>
        </div>
      </div>
      <div class="navbar-theme-switcher">
        <span class="switch" title="Switch between Light and Dark Theme">
          <input id="theme-switcher-checkbox" type="checkbox" />
          <label for="theme-switcher-checkbox">Dark Theme</label>
        </span>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="jakartaee-tutorial" data-version="10">
  <div class="toolbar"></div>
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../../index.html">Jakarta EE Tutorial</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Introduction</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../index.html">Preface</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../intro/overview/overview.html">Overview</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../intro/usingexamples/usingexamples.html">Using the Tutorial Examples</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Core Profile</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta CDI Lite</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-basic/cdi-basic.html">Introduction to Jakarta Contexts and Dependency Injection</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-basicexamples/cdi-basicexamples.html">Running the Basic Contexts and Dependency Injection Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../supporttechs/interceptors/interceptors.html">Using Jakarta EE Interceptors</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta REST</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../websvcs/jaxrs/jaxrs.html">Building RESTful Web Services with Jakarta REST</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../websvcs/jaxrs-client/jaxrs-client.html">Accessing REST Resources with the Jakarta REST Client API</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../websvcs/jaxrs-advanced/jaxrs-advanced.html">Jakarta REST: Advanced Topics and an Example</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta JSON</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/jsonb/jsonb.html">JSON Binding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/jsonp/jsonp.html">JSON Processing</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Web Profile</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta CDI Full</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-adv/cdi-adv.html">Jakarta Contexts and Dependency Injection: Advanced Topics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-bootstrap-se8/cdi-bootstrap-se8.html">Bootstrapping a CDI Container in Java SE</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../cdi/cdi-adv-examples/cdi-adv-examples.html">Running the Advanced Contexts and Dependency Injection Examples</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Validation</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../beanvalidation/bean-validation/bean-validation.html">Introduction to Jakarta Bean Validation</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../beanvalidation/bean-validation-advanced/bean-validation-advanced.html">Bean Validation: Advanced Topics</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../security.html">Jakarta Security</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Servlets</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/webapp/webapp.html">Getting Started with Web Applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/servlets/servlets.html">Jakarta Servlet Technology</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Faces</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/faces-intro/faces-intro.html">Jakarta Faces Technology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/faces-facelets/faces-facelets.html">Introduction to Facelets</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/faces-page/faces-page.html">Using Jakarta Faces Technology in Web Pages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/faces-page-core/faces-page-core.html">Using Converters, Listeners, and Validators</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/faces-develop/faces-develop.html">Developing with Jakarta Faces Technology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/faces-ajax/faces-ajax.html">Using Ajax with Jakarta Faces Technology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/faces-advanced-cc/faces-advanced-cc.html">Composite Components: Advanced Topics and an Example</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/faces-custom/faces-custom.html">Creating Custom UI Components and Other Custom Objects</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/faces-configure/faces-configure.html">Configuring Jakarta Faces Applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/faces-ws/faces-ws.html">Using WebSockets with Jakarta Faces Technology</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/webi18n/webi18n.html">Internationalizing and Localizing Web Applications</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../web/websocket/websocket.html">Jakarta WebSocket</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Persistence</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-intro/persistence-intro.html">Introduction to Jakarta Persistence</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-basicexamples/persistence-basicexamples.html">Running the Persistence Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-querylanguage/persistence-querylanguage.html">The Jakarta Persistence Query Language</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-criteria/persistence-criteria.html">Using the Criteria API to Create Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-string-queries/persistence-string-queries.html">Creating and Using String-Based Criteria Queries</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-locking/persistence-locking.html">Controlling Concurrent Access to Entity Data with Locking</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-entitygraphs/persistence-entitygraphs.html">Creating Fetch Plans with Entity Graphs</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../persist/persistence-cache/persistence-cache.html">Using a Second-Level Cache with Jakarta Persistence Applications</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Enterprise Beans Lite</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-intro/ejb-intro.html">Enterprise Beans</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-gettingstarted/ejb-gettingstarted.html">Getting Started with Enterprise Beans</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-basicexamples/ejb-basicexamples.html">Running the Enterprise Bean Examples</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-async/ejb-async.html">Using Asynchronous Method Invocation in Session Beans</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Platform</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../messaging/mail-api/mail-api.html">Jakarta Mail</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta Messaging</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging/jms-concepts/jms-concepts.html">Jakarta Messaging Concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../messaging/jms-examples/jms-examples.html">Jakarta Messaging Examples</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../../supporttechs/batch-processing/batch-processing.html">Jakarta Batch</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Advanced</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Web Profile</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security-authentication/security-authentication.html">Jakarta Authentication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../security-authorization/security-authorization.html">Jakarta Authorization</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../supporttechs/transactions/transactions.html">Jakarta Transactions</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../supporttechs/concurrency-utilities/concurrency-utilities.html">Jakarta Concurrency</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Platform</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../supporttechs/connectors/connectors.html">Jakarta Connectors</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Optional Components</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/faces-el/faces-el.html">Jakarta Expression Language</a>
  </li>
  <li class="nav-item" data-depth="2">
    <span class="nav-text">Jakarta XML Binding</span>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Archived</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Web Profile</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/jakarta-pages/jakarta-pages.html">Jakarta Pages</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../web/jakarta-tags/jakarta-tags.html">Jakarta Tags</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Jakarta EE Platform</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../websvcs/xml-websvcs/xml-websvcs.html">XML Web Services</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../../entbeans/ejb-full/ejb-full.html">Jakarta Enterprise Beans Full</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Jakarta EE Tutorial</span>
    <span class="version">10</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../../index.html">Jakarta EE Tutorial</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../../index.html">10</a>
        </li>
        <li class="version">
          <a href="../../../9.1/index.html">9.1</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
</nav>
<div class="page-versions">
  <button class="version-menu-toggle" title="Show other versions of page">10</button>
  <div class="version-menu">
    <a class="version is-current" href="security-webtier004.html">10</a>
    <a class="version" href="../../../9.1/security/security-webtier/security-webtier004.html">9.1</a>
  </div>
</div>
  <div class="edit-this-page"><a href="file:///home/john/workspace/virtua/jakartaee-tutorial/src/main/antora/modules/security/pages/security-webtier/security-webtier004.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="_examples_securing_web_applications"><a class="anchor" href="#_examples_securing_web_applications"></a>Examples: Securing Web Applications</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Some basic setup is required before any of the example applications will run correctly.</p>
</div>
<div class="sect2">
<h3 id="_overview_of_examples_of_securing_web_applications"><a class="anchor" href="#_overview_of_examples_of_securing_web_applications"></a>Overview of Examples of Securing Web Applications</h3>
<div class="paragraph">
<p>The examples use annotations, programmatic security, and/or declarative security to demonstrate adding security to existing web applications.</p>
</div>
<div class="paragraph">
<p>Here are some other locations where you will find examples of securing various types of applications:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><a href="../security-jakartaee/security-jakartaee.html#_the_cart_secure_example_securing_an_enterprise_bean_with_declarative_security" class="xref page">The cart-secure Example: Securing an Enterprise Bean with Declarative Security</a></p>
</li>
<li>
<p><a href="../security-jakartaee/security-jakartaee.html#_the_converter_secure_example_securing_an_enterprise_bean_with_programmatic_security" class="xref page">The converter-secure Example: Securing an Enterprise Bean with Programmatic Security</a></p>
</li>
<li>
<p>Eclipse GlassFish samples for Jakarta EE 9: <a href="https://github.com/eclipse-ee4j/glassfish-samples" class="bare" target="_blank" rel="noopener">https://github.com/eclipse-ee4j/glassfish-samples</a></p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_to_set_up_your_system_for_running_the_security_examples"><a class="anchor" href="#_to_set_up_your_system_for_running_the_security_examples"></a>To Set Up Your System for Running the Security Examples</h3>
<div class="paragraph">
<p>To set up your system for running the security examples, you need to configure a user database that the application can use for authenticating users.
Before continuing, follow these steps.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Make sure that GlassFish Server has been started (see <a href="../../intro/usingexamples/usingexamples.html#_starting_and_stopping_glassfish_server" class="xref page">Starting and Stopping GlassFish Server</a>).</p>
</li>
<li>
<p>Add an authorized user to GlassFish Server.
For the examples in this chapter and in <a href="../security-jakartaee/security-jakartaee.html#_getting_started_securing_enterprise_applications" class="xref page">Getting Started Securing Enterprise Applications</a>, add a user to the <code>file</code> realm of GlassFish Server, and assign the user to the group <code>TutorialUser</code>.</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>From the Administration Console, expand the Configurations node, then expand the server-config node.</p>
</li>
<li>
<p>Expand the Security node.</p>
</li>
<li>
<p>Expand the Realms node.</p>
</li>
<li>
<p>Select the File node.</p>
</li>
<li>
<p>On the Edit Realm page, click Manage Users.</p>
</li>
<li>
<p>On the File Users page, click New.</p>
</li>
<li>
<p>In the User ID field, enter a user ID.</p>
</li>
<li>
<p>In the Group List field, enter <code>TutorialUser</code>.</p>
</li>
<li>
<p>In the New Password and Confirm New Password fields, enter a password.</p>
</li>
<li>
<p>Click OK.</p>
<div class="paragraph">
<p>Be sure to write down the user name and password for the user you create so that you can use it for testing the example applications.
Authentication is case sensitive for both the user name and password, so write down the user name and password exactly.
This topic is discussed more in <a href="../security-intro/security-intro.html#_managing_users_and_groups_in_glassfish_server" class="xref page">Managing Users and Groups in GlassFish Server</a>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Jakarta Security requires that group principal names are mapped to roles of the same name by default.
Therefore, the <strong>Default Principal To Role Mapping</strong> setting is enabled by default on the Security page of the console.
</td>
</tr>
</table>
</div>
</li>
</ol>
</div>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_the_hello2_basicauth_example_basic_authentication_with_a_servlet"><a class="anchor" href="#_the_hello2_basicauth_example_basic_authentication_with_a_servlet"></a>The hello2-basicauth Example: Basic Authentication with a Servlet</h3>
<div class="paragraph">
<p>This example explains how to use basic authentication with a servlet.
With basic authentication of a servlet, the web browser presents a standard login dialog box that is not customizable.
When a user submits his or her name and password, the server determines whether the user name and password are those of an authorized user and sends the requested web resource if the user is authorized to view it.</p>
</div>
<div class="paragraph">
<p>In general, the following steps are necessary for adding basic authentication to an unsecured servlet, such as the ones described in <a href="../../web/webapp/webapp.html#<em>getting_started_with_web_applications" class="xref page">Getting Started with Web Applications</a>.
In the example application included with this tutorial, many of these steps have been completed for you and are listed here simply to show what needs to be done should you wish to create a similar application.
This application can be found in the <code>_jakartaee-examples</em>/tutorial/security/hello2-basicauth/</code> directory.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the steps in <a href="#_to_set_up_your_system_for_running_the_security_examples">To Set Up Your System for Running the Security Examples</a>.</p>
</li>
<li>
<p>Create a web module for the servlet example, <code>hello2</code>, as described in <a href="../../web/webapp/webapp.html#_getting_started_with_web_applications" class="xref page">Getting Started with Web Applications</a>.</p>
</li>
<li>
<p>Add the appropriate security annotations to the servlet. The security annotations are described in <a href="#_specifying_security_for_basic_authentication_using_annotations">Specifying Security for Basic Authentication Using Annotations</a>.</p>
</li>
<li>
<p>Build, package, and deploy the web application by following the steps in <a href="#_to_build_package_and_deploy_the_hello2_basicauth_example_using_netbeans_ide">To Build, Package, and Deploy the hello2-basicauth Example Using NetBeans IDE</a> or <a href="#_to_build_package_and_deploy_the_hello2_basicauth_example_using_maven">To Build, Package, and Deploy the hello2-basicauth Example Using Maven</a>.</p>
</li>
<li>
<p>Run the web application by following the steps described in <a href="#_to_run_the_hello2_basicauth_example">To Run the hello2-basicauth Example</a>.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_specifying_security_for_basic_authentication_using_annotations"><a class="anchor" href="#_specifying_security_for_basic_authentication_using_annotations"></a>Specifying Security for Basic Authentication Using Annotations</h4>
<div class="paragraph">
<p>The default authentication mechanism used by GlassFish Server is basic authentication.
With basic authentication, GlassFish Server spawns a standard login dialog box to collect user name and password data for a protected resource.
Once the user is authenticated, access to the protected resource is permitted.</p>
</div>
<div class="paragraph">
<p>To specify security for a servlet, use the <code>@ServletSecurity</code> annotation.
This annotation allows you to specify both specific constraints on HTTP methods and more general constraints that apply to all HTTP methods for which no specific constraint is specified.
Within the <code>@ServletSecurity</code> annotation, you can specify the following annotations:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>@HttpMethodConstraint</code> annotation, which applies to a specific HTTP method</p>
</li>
<li>
<p>The more general <code>@HttpConstraint</code> annotation, which applies to all HTTP methods for which there is no corresponding <code>@HttpMethodConstraint</code> annotation</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Both the <code>@HttpMethodConstraint</code> and <code>@HttpConstraint</code> annotations within the <code>@ServletSecurity</code> annotation can specify the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A <code>transportGuarantee</code> element that specifies the data protection requirements (that is, whether or not SSL/TLS is required) that must be satisfied by the connections on which requests arrive.
Valid values for this element are <code>NONE</code> and <code>CONFIDENTIAL</code>.</p>
</li>
<li>
<p>A <code>rolesAllowed</code> element that specifies the names of the authorized roles.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For the <code>hello2-basicauth</code> application, the <code>GreetingServlet</code> has the following annotations:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">@WebServlet(name = "GreetingServlet", urlPatterns = {"/greeting"})
@ServletSecurity(
@HttpConstraint(transportGuarantee = TransportGuarantee.CONFIDENTIAL,
    rolesAllowed = {"TutorialUser"}))</code></pre>
</div>
</div>
<div class="paragraph">
<p>These annotations specify that the request URI <code>/greeting</code> can be accessed only by users who have been authorized to access this URL because they have been verified to be in the role <code>TutorialUser</code>.
The data will be sent over a protected transport in order to keep the user name and password data from being read in transit.</p>
</div>
<div class="paragraph">
<p>If you use the <code>@ServletSecurity</code> annotation, you do not need to specify security settings in the deployment descriptor.
Use the deployment descriptor to specify settings for nondefault authentication mechanisms, for which you cannot use the <code>@ServletSecurity</code> annotation.</p>
</div>
</div>
<div class="sect3">
<h4 id="_to_build_package_and_deploy_the_hello2_basicauth_example_using_netbeans_ide"><a class="anchor" href="#_to_build_package_and_deploy_the_hello2_basicauth_example_using_netbeans_ide"></a>To Build, Package, and Deploy the hello2-basicauth Example Using NetBeans IDE</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the steps in <a href="#_to_set_up_your_system_for_running_the_security_examples">To Set Up Your System for Running the Security Examples</a>.</p>
</li>
<li>
<p>From the File menu, choose Open Project.</p>
</li>
<li>
<p>In the Open Project dialog box, navigate to:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">jakartaee-examples/tutorial/security</code></pre>
</div>
</div>
</li>
<li>
<p>Select the <code>hello2-basicauth</code> folder.</p>
</li>
<li>
<p>Click Open Project.</p>
</li>
<li>
<p>In the Projects tab, right-click the <code>hello2-basicauth</code> project and select Build.</p>
<div class="paragraph">
<p>This command builds and deploys the example application to your GlassFish Server instance.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_to_build_package_and_deploy_the_hello2_basicauth_example_using_maven"><a class="anchor" href="#_to_build_package_and_deploy_the_hello2_basicauth_example_using_maven"></a>To Build, Package, and Deploy the hello2-basicauth Example Using Maven</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the steps in <a href="#_to_set_up_your_system_for_running_the_security_examples">To Set Up Your System for Running the Security Examples</a>.</p>
</li>
<li>
<p>In a terminal window, go to:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">jakartaee-examples/tutorial/security/hello2-basicauth/</code></pre>
</div>
</div>
</li>
<li>
<p>Enter the following command:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">mvn install</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command builds and packages the application into a WAR file, <code>hello2-basicauth.war</code>, that is located in the <code>target</code> directory, then deploys the WAR file.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_to_run_the_hello2_basicauth_example"><a class="anchor" href="#_to_run_the_hello2_basicauth_example"></a>To Run the hello2-basicauth Example</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>In a web browser, enter the following URL:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">https://localhost:8181/hello2-basicauth/greeting</code></pre>
</div>
</div>
<div class="paragraph">
<p>You may be prompted to accept the security certificate for the server.
If so, accept the security certificate.
If the browser warns that the certificate is invalid because it is self-signed, add a security exception for the application.</p>
</div>
<div class="paragraph">
<p>An Authentication Required dialog box appears.
Its appearance varies, depending on the browser you use.</p>
</div>
</li>
<li>
<p>Enter a user name and password combination that corresponds to a user who has already been created in the <code>file</code> realm of GlassFish Server and has been assigned to the group <code>TutorialUser</code>; then click OK.</p>
<div class="paragraph">
<p>Basic authentication is case sensitive for both the user name and password, so enter the user name and password exactly as defined for GlassFish Server.</p>
</div>
<div class="paragraph">
<p>The server returns the requested resource if all the following conditions are met:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A user with the user name you entered is defined for GlassFish Server.</p>
</li>
<li>
<p>The user with the user name you entered has the password you entered.</p>
</li>
<li>
<p>The user name and password combination you entered is assigned to the group <code>TutorialUser</code> in GlassFish Server.</p>
</li>
<li>
<p>The role of <code>TutorialUser</code>, as defined for the application, is mapped to the group <code>TutorialUser</code>, as defined for GlassFish Server.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enter a name in the field and click Submit.</p>
<div class="paragraph">
<p>Because you have already been authorized, the name you enter in this step does not have any limitations.
You have unlimited access to the application now.</p>
</div>
<div class="paragraph">
<p>The application responds by saying "Hello" to the name you entered.</p>
</div>
</li>
</ol>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_the_hello1_formauth_example_form_based_authentication_with_a_jakarta_faces_application"><a class="anchor" href="#_the_hello1_formauth_example_form_based_authentication_with_a_jakarta_faces_application"></a>The hello1-formauth Example: Form-Based Authentication with a Jakarta Faces Application</h3>
<div class="paragraph">
<p>This example explains how to use form-based authentication with a Jakarta Faces application.
With form-based authentication, you can customize the login screen and error pages that are presented to the web client for authentication of the user name and password.
When a user submits his or her name and password, the server determines whether the user name and password are those of an authorized user and, if authorized, sends the requested web resource.</p>
</div>
<div class="paragraph">
<p>This example, <code>hello1-formauth</code>, adds security to the basic Jakarta Faces application shown in <a href="../../web/webapp/webapp.html#_a_web_module_that_uses_jakarta_faces_technology_the_hello1_example" class="xref page">A Web Module That Uses Jakarta Faces Technology: The hello1 Example</a>.</p>
</div>
<div class="paragraph">
<p>In general, the steps necessary for adding form-based authentication to an unsecured Jakarta Faces application are similar to those described in <a href="#_the_hello2_basicauth_example_basic_authentication_with_a_servlet">The hello2-basicauth Example: Basic Authentication with a Servlet</a>.
The major difference is that you must use a deployment descriptor to specify the use of form-based authentication, as described in <a href="#_specifying_security_for_the_form_based_authentication_example">Specifying Security for the Form-Based Authentication Example</a>.
In addition, you must create a login form page and a login error page, as described in <a href="#_creating_the_login_form_and_the_error_page">Creating the Login Form and the Error Page</a>.</p>
</div>
<div class="paragraph">
<p>This application can be found in the <code><em>jakartaee-examples</em>/tutorial/security/hello1-formauth/</code> directory.</p>
</div>
<div class="sect3">
<h4 id="_creating_the_login_form_and_the_error_page"><a class="anchor" href="#_creating_the_login_form_and_the_error_page"></a>Creating the Login Form and the Error Page</h4>
<div class="paragraph">
<p>When using form-based login mechanisms, you must specify a page that contains the form you want to use to obtain the user name and password, as well as a page to display if login authentication fails.
This section discusses the login form and the error page used in this example.
<a href="#_specifying_security_for_the_form_based_authentication_example">Specifying Security for the Form-Based Authentication Example</a> shows how you specify these pages in the deployment descriptor.</p>
</div>
<div class="paragraph">
<p>The login page can be an HTML page or a servlet, and it must return an HTML page containing a form that conforms to specific naming conventions (see the Jakarta Servlet 5.0 specification for more information on these requirements).
To do this, include the elements that accept user name and password information between <code>&lt;form&gt;&lt;/form&gt;</code> tags in your login page.
The content of an HTML page or servlet for a login page should be coded as follows:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;form method="post" action="j_security_check"&gt;
    &lt;input type="text" name="j_username"&gt;
    &lt;input type="password" name= "j_password"&gt;
&lt;/form&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The full code for the login page used in this example can be found at <code><em>jakartaee-examples</em>/tutorial/security/hello1-formauth/src/main/webapp/login.html</code>.
Here is the code for this page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;html lang="en"&gt;
    &lt;head&gt;
        &lt;title&gt;Login Form&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h2&gt;Hello, please log in:&lt;/h2&gt;
        &lt;form method="post" action="j_security_check"&gt;
            &lt;table role="presentation"&gt;
                &lt;tr&gt;
                    &lt;td&gt;Please type your user name: &lt;/td&gt;
                    &lt;td&gt;&lt;input type="text" name="j_username"
                               size="20"/&gt;&lt;/td&gt;
                &lt;/tr&gt;
                &lt;tr&gt;
                    &lt;td&gt;Please type your password: &lt;/td&gt;
                    &lt;td&gt;&lt;input type="password" name="j_password"
                               size="20"/&gt;&lt;/td&gt;
                &lt;/tr&gt;
            &lt;/table&gt;
            &lt;p&gt;&lt;/p&gt;
            &lt;input type="submit" value="Submit"/&gt;
            &amp;nbsp;
            &lt;input type="reset" value="Reset"/&gt;
        &lt;/form&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>The login error page is displayed if the user enters a user name and password combination that is not authorized to access the protected URI.
For this example, the login error page can be found at <code><em>jakartaee-examples</em>/tutorial/security/hello1-formauth/src/main/webapp/error.html</code>.
For this example, the login error page explains the reason for receiving the error page and provides a link that will allow the user to try again.
Here is the code for this page:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-html hljs" data-lang="html">&lt;html lang="en"&gt;
    &lt;head&gt;
        &lt;title&gt;Login Error&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h2&gt;Invalid user name or password.&lt;/h2&gt;

        &lt;p&gt;Please enter a user name or password that is authorized to access
           this application. For this application, this means a user that
           has been created in the &lt;code&gt;file&lt;/code&gt; realm and has been
           assigned to the &lt;em&gt;group&lt;/em&gt; of &lt;code&gt;TutorialUser&lt;/code&gt;.&lt;/p&gt;
        &lt;p&gt;&lt;a href="login.html"&gt;Return to login page&lt;/a&gt;&lt;/p&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_specifying_security_for_the_form_based_authentication_example"><a class="anchor" href="#_specifying_security_for_the_form_based_authentication_example"></a>Specifying Security for the Form-Based Authentication Example</h4>
<div class="paragraph">
<p>This example takes a very simple servlet-based web application and adds form-based security.
To specify form-based instead of basic authentication for a Jakarta Faces example, you must use the deployment descriptor.</p>
</div>
<div class="paragraph">
<p>The following sample code shows the security elements added to the deployment descriptor for this example, which can be found in <code><em>jakartaee-examples</em>/tutorial/security/hello1-formauth/src/main/webapp/WEB-INF/web.xml</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">    &lt;security-constraint&gt;
        &lt;display-name&gt;Constraint1&lt;/display-name&gt;
        &lt;web-resource-collection&gt;
            &lt;web-resource-name&gt;wrcoll&lt;/web-resource-name&gt;
            &lt;description/&gt;
            &lt;url-pattern&gt;/*&lt;/url-pattern&gt;
        &lt;/web-resource-collection&gt;
        &lt;auth-constraint&gt;
            &lt;description/&gt;
            &lt;role-name&gt;TutorialUser&lt;/role-name&gt;
        &lt;/auth-constraint&gt;
    &lt;/security-constraint&gt;

    &lt;login-config&gt;
        &lt;auth-method&gt;FORM&lt;/auth-method&gt;
        &lt;realm-name&gt;file&lt;/realm-name&gt;
        &lt;form-login-config&gt;
            &lt;form-login-page&gt;/login.xhtml&lt;/form-login-page&gt;
            &lt;form-error-page&gt;/error.xhtml&lt;/form-error-page&gt;
        &lt;/form-login-config&gt;
    &lt;/login-config&gt;

    &lt;security-role&gt;
        &lt;description/&gt;
        &lt;role-name&gt;TutorialUser&lt;/role-name&gt;
    &lt;/security-role&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_to_build_package_and_deploy_the_hello1_formauth_example_using_netbeans_ide"><a class="anchor" href="#_to_build_package_and_deploy_the_hello1_formauth_example_using_netbeans_ide"></a>To Build, Package, and Deploy the hello1-formauth Example Using NetBeans IDE</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the steps in <a href="#_to_set_up_your_system_for_running_the_security_examples">To Set Up Your System for Running the Security Examples</a>.</p>
</li>
<li>
<p>From the File menu, choose Open Project.</p>
</li>
<li>
<p>In the Open Project dialog box, navigate to:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">jakartaee-examples/tutorial/security</code></pre>
</div>
</div>
</li>
<li>
<p>Select the <code>hello1-formauth</code> folder.</p>
</li>
<li>
<p>Click Open Project.</p>
</li>
<li>
<p>In the Projects tab, right-click the <code>hello1-formauth</code> project and select Run.</p>
<div class="paragraph">
<p>This command builds and deploys the example application to your GlassFish Server instance, then opens it in a browser.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_to_build_package_and_deploy_the_hello1_formauth_example_using_maven_and_the_asadmin_command"><a class="anchor" href="#_to_build_package_and_deploy_the_hello1_formauth_example_using_maven_and_the_asadmin_command"></a>To Build, Package, and Deploy the hello1-formauth Example Using Maven and the asadmin Command</h4>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Follow the steps in <a href="#_to_set_up_your_system_for_running_the_security_examples">To Set Up Your System for Running the Security Examples</a>.</p>
</li>
<li>
<p>In a terminal window, go to:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">jakartaee-examples/tutorial/security/hello1-formauth/</code></pre>
</div>
</div>
</li>
<li>
<p>Enter the following command at the terminal window or command prompt:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-shell hljs" data-lang="shell">mvn install</code></pre>
</div>
</div>
<div class="paragraph">
<p>This command builds and packages the application into a WAR file, <code>hello1-formauth.war</code>, that is located in the <code>target</code> directory, then deploys the WAR file to GlassFish Server.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_to_run_the_hello1_formauth_example"><a class="anchor" href="#_to_run_the_hello1_formauth_example"></a>To Run the hello1-formauth Example</h4>
<div class="paragraph">
<p>To run the web client for <code>hello1-formauth</code>, follow these steps.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Open a web browser to the following URL:</p>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-asciidoc hljs" data-lang="asciidoc">http://localhost:8080/hello1-formauth/</code></pre>
</div>
</div>
</li>
<li>
<p>In the login form, enter a user name and password combination that corresponds to a user who has already been created in the <code>file</code> realm of GlassFish Server and has been assigned to the group <code>TutorialUser</code>.</p>
<div class="paragraph">
<p>Form-based authentication is case sensitive for both the user name and password, so enter the user name and password exactly as defined for GlassFish Server.</p>
</div>
</li>
<li>
<p>Click Submit.</p>
<div class="paragraph">
<p>If you entered <code>My_Name</code> as the name and <code>My_Pwd</code> for the password, the server returns the requested resource if all the following conditions are met.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>A user with the user name <code>My_Name</code> is defined for GlassFish Server.</p>
</li>
<li>
<p>The user with the user name <code>My_Name</code> has a password <code>My_Pwd</code> defined for GlassFish Server.</p>
</li>
<li>
<p>The user <code>My_Name</code> with the password <code>My_Pwd</code> is assigned to the group <code>TutorialUser</code> on GlassFish Server.</p>
</li>
<li>
<p>The role <code>TutorialUser</code>, as defined for the application, is mapped to the group <code>TutorialUser</code>, as defined for GlassFish Server.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When these conditions are met and the server has authenticated the user, the application appears.</p>
</div>
</li>
<li>
<p>Enter your name and click Submit.</p>
<div class="paragraph">
<p>Because you have already been authorized, the name you enter in this step does not have any limitations.
You have unlimited access to the application now.</p>
</div>
<div class="paragraph">
<p>The application responds by saying "Hello" to you.</p>
</div>
</li>
</ol>
</div>
</div>
<div class="sect3">
<h4 id="_next_steps"><a class="anchor" href="#_next_steps"></a>Next Steps</h4>
<div class="paragraph">
<p>For additional testing and to see the login error page generated, close and reopen your browser, enter the application URL, and enter a user name and password that are not authorized.</p>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>This page was built using the Antora default UI.</p>
  <p>The source code for this UI is licensed under the terms of the MPL-2.0 license.</p>
</footer>
<script id="site-script" src="../../../../_/js/site.js" data-ui-root-path="../../../../_"></script>
<script async src="../../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
